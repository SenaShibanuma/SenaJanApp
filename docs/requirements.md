# 要件定義書

## 1. 概要
個人で利用する麻雀の点数計算Webアプリ。
スマートフォンでの利用に特化し、素早く直感的に操作できることを目指す。

## 2. 機能要件
### 2.1. 基本設定
- 親か子かをトグルスイッチで選択できる。
- ハン数を数値で直接入力できる。

### 2.2. 手牌構成の入力
- **役の選択:**
  - 「七対子」「断幺九」「平和」をチェックボックスで選択できる。
  - 「七対子」と「平和」は複合しない（同時に選択できない）。
  - 「七対子」と「断幺九」は複合できる。
  - 「七対子」を選択した場合、平和に関連する設定（面子、雀頭、待ち方）は無効化される。
  - 「平和」を選択した場合、平和の条件を満たすように関連設定（面子、雀頭、待ち方）が固定される。
  - 「断幺九」を選択した場合、全ての面子・雀頭が幺九牌・役牌でない状態に固定される。
- **面子設定:**
  - 4つの面子をそれぞれ個別に入力できる。
  - 各面子は「順子/刻子/槓子」「鳴き」「幺九牌を含むか」を設定できる。
  - 「順子」を選択した場合、「鳴き」と「幺九牌」のオプションは意味を持たないため無効化される。
- **雀頭設定:**
  - 雀頭が「役牌」であるかを設定できる。
- **和了情報:**
  - 「待ち方」を選択できる。
  - 「和了り方（ロン/ツモ）」を選択できる。

### 2.3. 結果表示
- 計算されたハン・符、最終的な点数が表示される。
- 画面下部に点数表が表示される。
- 親/子の選択とロン/ツモの選択に応じて、参照する点数が切り替わる。
- 計算されたハン・符に対応する点数表のマスがハイライトされる。

### 2.3.1. 符の内訳表示
- 計算入力エリアの右側に、符計算の内訳がリアルタイムで表示される。
- 表示される項目は以下の通り:
  - 符底 (20符)
  - 和了り方 (ツモ: 2符, 門前ロン: 10符)
  - 各面子の符
  - 雀頭の符
  - 待ち方の符
- **特殊なケースの表示:**
  - **七対子:** 計算結果は25符に固定される。符の内訳では、各項目が打ち消し線で表示され、代わりに「七対子: 25符」が強調表示される。
  - **平和ツモ:** 計算結果は20符に固定される。符の内訳では、「和了り方」のツモ符（2符）が打ち消し線で表示される。
- 内訳の最後には、切り上げ前の合計符と、切り上げ後の最終的な符が表示される。

## 3. 非機能要件
### 3.1. 構成
- フロントエンドのみで動作する静的なWebアプリケーションとする。
- サーバーサイドの処理は設けない。
- PCなどの幅広の画面では入力欄と符の内訳が左右に並ぶ2カラムレイアウト、スマートフォンなど幅の狭い画面では縦に並ぶ1カラムレイアウト（レスポンシブ対応）を採用する。

### 3.2. 使用技術
- HTML
- CSS
- JavaScript (ECMAScript 2015以降、フレームワークは使用しない)
