# 設計書

## 1. ファイル構成
```
/
|-- index.html      (アプリケーションのメインHTML)
|-- script.js       (計算ロジックやDOM操作を記述)
|-- style.css       (アプリケーションのスタイルを定義)
|-- docs/
|   |-- requirements.md (要件定義書)
|   |-- design.md       (本書)
|-- README.md
```

## 2. HTML設計 (`index.html`)
- 主要なセクション（入力エリア、符計算エリア、結果表示エリア、点数表エリア）を`<div>`や`<section>`で意味的に分割する。
- 入力要素には適切な`<input>`タグ（`type="checkbox"`, `type="number"`, `type="radio"`）を使用する。
- 点数表は`<table>`要素で構築し、ヘッダ (`<thead>`) とボディ (`<tbody>`) を明確に分ける。

## 3. JavaScript設計 (`script.js`)
- **イベント駆動:** ユーザーの入力イベント（`change`, `input`）をトリガーとして、計算処理と画面更新を実行する。
- **状態管理:** 現在の入力状態（親/子、ハン、符のチェック項目など）をJavaScriptのオブジェクトとして一元管理する。
- **責務の分離:** 以下の責務を持つ関数群にロジックを分割する。
    - UIの初期化処理（符リストのHTML生成など）
    - イベントリスナーの設定
    - 入力状態の更新
    - 符の再計算ロジック
    - 点数表の更新とハイライト処理

## 4. CSS設計 (`style.css`)
- FlexboxやGridを使用して、レスポンシブでモダンなレイアウトを組む。
- CSSカスタムプロパティ（変数）を使用して、テーマカラーや余白などの管理を容易にする。
- ハイライト表示用のクラス（例: `.highlight`）を定義し、JavaScriptから動的にクラスを付け外しすることで、見た目を制御する。

## 5. レスポンシブ設計とモバイル表示

本アプリケーションは、PCとスマートフォンの両方での利用を想定し、レスポンシブデザインを採用する。

### 5.1. ブレークポイント
- 画面幅 `992px` をブレークポイントとし、それ以下の幅のデバイスをモバイル表示の対象とする。

### 5.2. モバイルレイアウト
モバイル表示では、ユーザビリティを向上させるために以下の変更を適用する。
- **レイアウト:** デスクトップの2カラムレイアウトから1カラムレイアウトに切り替える。
- **カードの順序:** 重要な情報に素早くアクセスできるよう、CSS Gridを利用してカードの表示順序を以下のように最適化する。
    1. 計算結果 (`results-card`)
    2. 基本設定 (`settings-card`)
    3. 符計算 (`fu-calculator-card`)
    4. 点数表 (`score-table-card`)
- **タップターゲット:** スマートフォンのタッチ操作を考慮し、各種入力要素 (`input`, `select`) のフォントサイズと高さを調整して、タップしやすいようにする。
